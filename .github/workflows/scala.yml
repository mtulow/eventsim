# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.

name: Scala CI

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

permissions:
  contents: read

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - name: Set up Java JDK 8
      uses: actions/setup-java@v4
      with:
        # The Java version to set up. Takes a whole or semver Java version. See examples of supported syntax in README file
        java-version: '8'
        # Java distribution. See the list of supported distributions in README file
        distribution: 'temurin'
        # The package type (jdk, jre, jdk+fx, jre+fx)
        java-package: jdk
        # The architecture of the package (defaults to the action runner's architecture)
        architecture: # optional
        # Name of the build platform to cache dependencies. It can be "maven", "gradle" or "sbt".
        cache: 'sbt'  # optional
        # The path to a dependency file: pom.xml, build.gradle, build.sbt, etc. This option can be used with the `cache` option. If this option is omitted, the action searches for the dependency file in the entire repository. This option supports wildcards and a list of file names for caching multiple dependencies.
        cache-dependency-path: ../../build.sbt # optional
    - name: Run tests
      run: sbt test
      # Optional: This step uploads information to the GitHub dependency graph and unblocking Dependabot alerts for the repository
    - name: Upload dependency graph
      uses: scalacenter/sbt-dependency-submission@ab086b50c947c9774b70f39fc7f6e20ca2706c91
